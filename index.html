<!DOCTYPE html>
<html>
    <head>
        <title>Vue 101</title>
    </head>

    <body>
        <h1>Hello!</h1>
        <div id="app">
            <!-- part 1 - 3 -->
            <!-- <p>My local prop: {{ myLocalProp }}</p>
            <hr/>
            <button @click="buttonClicked">
                Click here
            </button>
            <hr/>
            <p v-if="randomNumber >= 50">randomNumber is >= 50!</p>

            <p v-else>Sorry, randomNumber is only <b>{{ randomNumber }}</b></p> -->
            
            <!--part 4-->
            <!-- <div v-for="game in games" :key="game.name">
                <h1>{{ game.name }} - <small>{{ game.console }}</small></h1>

                <span v-for="star in game.rating" @click="increaseRating(game)">‚ù§Ô∏è</span>

                <div v-if="game.rating > 5">Wow, this game must be <b>REALLY</b> good</div>
            </div> -->

            <!--part 5-->
            <!-- <awesome-button></awesome-button>
            <hr>
            <game-card v-for="game in games" :game-data="game" :key="game.name"></game-card> -->

            <!--part 6-->
            <!-- <age-calculator v-for="person in people" :person="person" :key="person.name"></age-calculator> -->

            <!--part 7-->
            <label>What's your favorite game ever?</label>
            <input type="text" v-model="favoriteGame">

            <hr>

            <p>{{ response }}</p>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <script>
            //part 5
            // Vue.component('awesome-button', {
            //     template: `<button @click="clickHandler">Click me for some awesomeness</button>`,
            //     methods: {
            //         clickHandler() {
            //             alert('YAAAS üòé');
            //         }
            //     }
            // });

            // Vue.component('game-card', {
            //     props: ['gameData'],
            //     data() {
            //         return {
            //             game: {...this.gameData}
            //         }
            //     },
            //     template: `
            //         <div style="border-radius: .25rem; border: 1px solid #ECECEC; width: 400px; margin: 1rem; padding: 1rem;">
            //             <h2>{{ game.name }} - <small>{{ game.console }}</small></h2>

            //             <span v-for="heart in game.rating">‚ù§Ô∏è</span>

            //             <button @click="increaseRating">Increase Rating</button>
            //         </div>
            //     `,
            //     methods: {
            //         increaseRating() {
            //             this.game.rating++;
            //         }
            //     }
            // });

            //part 6
            // Vue.component('age-calculator', {
            //     props: {
            //         person: {
            //             type: Object,
            //             required: true
            //         }
            //     },
            //     template: `
            //         <p>
            //         {{ person.name }} has been kicking butt for {{ daysAlive }} days!
            //         </p>
            //     `,
            //     computed: {
            //         daysAlive() { //Remember, computed props are functions in the end
            //             return this.person.age * 365
            //         }
            //     }
            // });

            const app = new Vue({
                el: '#app',
                data() { //part 7
                    return {
                        favoriteGame: null,
                        response: ''
                    }
                },
                watch: {
                    favoriteGame(newValue, oldValue) {
                        //console.log('Favorite game was ' + oldValue + ' and now is ' + newValue)

                        if (!newValue) return // If its an empty string, pass

                        // If the new value contains the keyword metroid
                        if (newValue.toLowerCase().indexOf('metroid') !== -1) {
                            this.response = 'Ceres station is under attack!'
                            return
                        }

                        // If the new value contains the word zelda
                        if (newValue.toLowerCase().indexOf('zelda') !== -1) {
                            this.response = 'Its dangerous to go alone, take this üó°Ô∏è'
                            return
                        }

                        // If the OLD value was metroid, and user changed it something else
                        if (
                            oldValue.toLowerCase().indexOf('metroid') !== -1 &&
                            newValue.toLowerCase().indexOf('metroid') === -1
                        ) {
                            this.response = 'GET TO DA CHOPPA NAO'
                            return
                        }

                        // Default response
                        this.response = 'Sure, why not?'
                    }
                },
                //data: {
                    //part 1 - 3
                    // myLocalProp: 'Im a local property value',
                    // randomNumber: 0

                    //part 4
                    // games: [
                    //     { name: 'Super Mario 64', console: 'Nintendo 64', rating: 4 },
                    //     { name: 'The Legend of Zelda Ocarina of Time', console: 'Nintendo 64', rating: 5 },
                    //     { name: 'Secret of Mana', console: 'Super Nintendo', rating: 4 },
                    //     { name: 'Fallout 76', console: 'Multiple', rating: 1 },
                    //     { name: 'Super Metroid', console: 'Super Nintendo', rating: 6 }
                    // ]

                    //part 5
                    // games: [
                    //     { name: 'Super Mario 64', console: 'Nintendo 64', rating: 4 },
                    //     { name: 'The Legend of Zelda Ocarina of Time', console: 'Nintendo 64', rating: 5 },
                    //     { name: 'Secret of Mana', console: 'Super Nintendo', rating: 4 },
                    //     { name: 'Fallout 76', console: 'Multiple', rating: 1 },
                    //     { name: 'Super Metroid', console: 'Super Nintendo', rating: 6 }
                    // ]

                    //part 6
                    // people: [
                    //     { name: 'Mario', age: 38 },
                    //     { name: 'Luigi', age: 38 },
                    //     { name: 'Samus', age: 31 },
                    //     { name: 'Link', age: 20 },
                    //     { name: 'Marina', age: 32 },
                    //     { name: 'Thoba', age: 26 }
                    // ]
                //},
                methods: {
                    //part 1 - 3
                    // buttonClicked() {
                    //     this.randomNumber = Math.floor(Math.random() * 100);
                    // }
                    
                    //part 4
                    // increaseRating(game) {
                    //     game.rating++;
                    // }
                }
            });
        </script>
    </body>
</html>